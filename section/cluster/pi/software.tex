\chapter{Operating Systems}

\FILENAME\

In this chapter we will provide information in how to install additional software that may not be provided with the default operating system.

You can run different operating systems on the PI, this includes 
rasbian, NOOBS, Dexter (for Grove PI), or even Windows 10.

We like to get feedback on what OS is best suited for which task.

\subsubsection{Rasbian}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsubsection{NOOBS}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsubsection{Dexter}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsubsection{Other Linux}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsection{Operatiing Systems}

You can run different operationg systems on the PI, this includes 
rasbian, NOOBS, Dexter (for Grove PI) but aslo Windows 10.

We like to get feedback on what OS is best suited for which task.

\subsubsection{Rasbian}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsubsection{NOOBS}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsubsection{Dexter}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsubsection{Other Linux}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsubsection{Windows IOT}

Previously we played a bit with Windows on Raspberry, but it was not
very well supported. This may have changed by now. Your task will be to
evaluate its feature and contrast it to other OSes.

There seems to be support on developing PI application on WIndows 10
itself, but as we do not have windows machines, we have not tried
this. You could escplore and update us.

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\chapter{PI Software}

\section{Editors}

\subsection{emacs}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsection{vim}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsection{gedit}

\begin{exercise}
provide a mini tutorial 
\end{exercise}


\subsection{ssh}

The most iomportant program for us. describe ho to enable without GUI

point to our other ssh section.

\begin{exercise}
make sure to describe how to not copy private keys !!! and instead use
ssh keygen on each machine, gather all pub keys and distribute

write a cloudmesh command for this (may already exist) 
\end{exercise}



\begin{exercise}
provide a mini tutorial 
\end{exercise}




\section{Python 3}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

sudo apt-get install python3

update to current version and try out. measure time it thakes to do that, it may take a long time use time commands before and after

make sure you use alst install

\URL{https://liftcodeplay.com/2017/06/30/how-to-install-python-3-6-on-raspbian-linux-for-raspberry-pi/}

can we remove the source after install to safe space?

\section{Python IDLE}

Click Menu > Programming > Python 3 (IDLE), and you'll get a new
window called 'Python 3.4.2 Shell:'. This Shell works just like Python
on the command line. Enter print(``Hello World'') to see the message.

\begin{exercise}
provide a mini tutorial 
\end{exercise}


\section{Docker}

see go, maybe there are other better resources.

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\section{Go}

\url{https://blog.alexellis.io/golang-docker-rpi/}

\begin{exercise}
provide a mini tutorial 
\end{exercise}


\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsection{Eclipse}

\begin{exercise}
provide a mini tutorial 
\end{exercise}


\subsection{Adafruit Web IDE}

\URL{https://learn.adafruit.com/webide/overview}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\subsection{Coder}

\URL{https://googlecreativelab.github.io/coder/}

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\chapter{Computing}

\section{Numpy}

Refer to other section in book and describe what is different

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\section{Scipy}

Refer to other section in book and describe what is different

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\section{Image Processing}

Refer to other section in book and describe what is different

\begin{exercise}
provide a mini tutorial 
\end{exercise}

\section{DHCP Server}

\URL{http://www.noveldevices.co.uk/rp-dhcp-server}

\section{Gregor's Notes}

THis section contains some unordered notes by Gregor that you may want
to look at and integrate into proper sections:

\subsection{editor}

find an editor that is installed and can be used on commandline nano, vi, other?
\subsection{hostname}

The hostname is stored in \verb|/etc/hostname|. Edit the file and
change it to a name such as green00, green01, green02, green03, green04,
green05. Be consitant with the names. The 00 host shoudl be the top
most host in the cluster.

edit

\begin{lstlisting}
nano /etc/hostname
\end{lstlisting}

after you edited the hostname

\begin{lstlisting}
sudo /etc/init.d/hostname.sh start
\end{lstlisting}

Ideally we want to find out how to write the hostname after we burn
the SDcard on the laptop that does the burning

develop a python script to do that

\subsection{Gather the mac addresses}

Is there a better way?

\begin{lstlisting}
/sys/class/net/<interface-name>/address

cat /sys/class/net/eth0/address
cat /sys/class/net/wlan0/address
ifconfig eth0
\end{lstlisting}

develop a python script to do that

\subsection{Enable sshd}

Not tested

\begin{lstlisting}
sudo mv /boot/boot_enable_ssh.rc /boot/boot.rc
sudo reboot
\end{lstlisting}

\URL{http://www.noveldevices.co.uk/rp-ssh}

NOt sure if this is needed:

``
You may find that you can connect to your Pi with SSH but the session
hangs after a successful logon. This is usually caused because of a
network QoS mismatch that affects certain switches and routers but you
can correct this by editing the two files

\begin{lstlisting}
/etc/ssh/ssh_config
/etc/ssh/sshd_config
\end{lstlisting}

and adding

\begin{lstlisting}
IPQoS 0x00
\end{lstlisting}

to each file as the last record.
``
develop a a python script to do that

\subsection{Wireless}

Do not use iu secure. Do not leave your passwd on the pi as insecure.

\begin{lstlisting}
sudo nano /etc/network/interfaces

auto wlan0
allow-hotplug wlan0
iface wlan0 inet dhcp
wpa-ssid "your-WLAN-SSID"
wpa-psk "your-WLAN-password"
\end{lstlisting}

develop a pthon script to do that

\subsection{Update when on network}

for now dont put pi on network so do this once we figure out a better
way

\begin{lstlisting}
sudo apt-get update
sudo apt-get install emacs
\end{lstlisting}

\subsection{USB stick}

\begin{lstlisting}
cat /var/log/messages
\end{lstlisting}

find sda*

Make sure to find the right name.

\begin{lstlisting}
sudo fdisk /dev/<device-name>
sudo mkfs -t vfat /dev/<device-name>
mkdir ~/<mount-point>
sudo mount /dev/<device-name> ~/<mount-point>
\end{lstlisting}

\subsection{Locale}

set locale to US so you can use keyboard

\begin{lstlisting}
raspi-config 
\end{lstlisting}

or

\begin{lstlisting}
sudo dpkg-reconfigure locales
\end{lstlisting}

develop a python script to do that

\subsection{DHCP server on 00}

\begin{lstlisting}
sudo apt-get update
sudo apt-get install isc-dhcp-server
sudo nano /etc/network/interfaces
\end{lstlisting}


Change it to 

\begin{lstlisting}
iface eth0 inet static
address <the-IP-address-of-your-Pi-that-will-be-the-DHCP-server>
netmask <the-subnet-mask-of-your-LAN>
gateway <the-IP-address-of-your-LAN-gateway>
sudo nano /etc/dhcp/dhcpd.conf
\end{lstlisting}

uncomment the info so the server can start

\begin{lstlisting}
subnet <starting-IP-address-of-your-network> netmask <starting-IP-address-of-your-network> {

     range <first-IP-address-of-your-DHCP-address-range> <last-IP-address-of-your-DHCP-address-range>;

     option routers <the-IP-address-of-your-gateway-or-router>;

     option broadcast-address <the-broadcast-IP-address-for-your-network>;

}
\end{lstlisting}

edit /etc/default/isc-dhcp-server

\begin{lstlisting}
DHCPD_CONF=/etc/dhcp/dhcpd.conf
DHCPD_PID=/var/run/dhcpd.pid
INTERFACES="eth0"
\end{lstlisting}

\begin{lstlisting}
sudo service isc-dhcp-server restart
\end{lstlisting}

\subsection{Temperature}

\begin{lstlisting}
cat /sys/class/thermal/thermal_zone0/temp
\end{lstlisting}

\subsection{graphana}

could be helpful to monitor cluster/clusters

\URL{https://github.com/grafana/grafana}


\URL{https://github.com/weaveworks/grafanalib}

there are many more, just search. we have not tested them
example with yaml

\URL{https://github.com/jakubplichta/grafana-dashboard-builder}

light scheme

in /etc/grafana/grafana.ini uncomment line and set 

\begin{lstlisting}
default_theme = light 
\end{lstlisting}
